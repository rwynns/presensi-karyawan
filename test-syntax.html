<!DOCTYPE html>
<html>
    <head>
        <title>Syntax Test</title>
    </head>
    <body>
        <div id="statusContent"></div>

        <script>
            // Test the problematic section
            let attendanceStatus = {
                time_status: {
                    can_clock_in: false,
                    clock_in_deadline: "08:00:00",
                },
                special_permissions: {
                    has_late_permission: true,
                    late_permission_until: "10:00",
                },
            };

            const statusContent = document.getElementById("statusContent");

            // Test the exact code that was causing issues
            let statusMessage = "Siap untuk absensi";
            let statusColor = "green";

            if (attendanceStatus.time_status) {
                if (!attendanceStatus.time_status.can_clock_in) {
                    // Check if user has late permission
                    if (
                        attendanceStatus.special_permissions &&
                        attendanceStatus.special_permissions.has_late_permission
                    ) {
                        statusMessage = `Izin terlambat sampai ${attendanceStatus.special_permissions.late_permission_until}`;
                        statusColor = "yellow";
                    } else {
                        statusMessage = `Waktu absen masuk telah berakhir (Max: ${attendanceStatus.time_status.clock_in_deadline})`;
                        statusColor = "red";
                    }
                } else {
                    if (
                        attendanceStatus.special_permissions &&
                        attendanceStatus.special_permissions.has_late_permission
                    ) {
                        statusMessage = `Siap absen masuk (Izin terlambat sampai: ${attendanceStatus.special_permissions.late_permission_until})`;
                        statusColor = "yellow";
                    } else {
                        statusMessage = `Siap absen masuk (Sampai: ${attendanceStatus.time_status.clock_in_deadline})`;
                        statusColor = "green";
                    }
                }
            }

            statusContent.innerHTML = `
            <div class="w-3 h-3 bg-${statusColor}-500 rounded-full animate-pulse"></div>
            <p class="text-sm font-inter text-gray-600">${statusMessage}</p>
        `;

            console.log("Syntax test completed successfully");
        </script>
    </body>
</html>
